function PayPalLoading(){$("#waitPayPal").show(),$("#myCart").parent().hide()}function HideCart(){$("#myCart").parent().fadeOut("medium")}$(document).ready(function(){function t(t){n(t);var e=0,s=0,i=0,a=0,r='<form id="shopping-basket-form" action="https://www.paypal.com/uk/cgi-bin/webscr" method="post">\r\n';r+='<input type="hidden" name="cmd" value="_cart" />\r\n',r+='<input type="hidden" name="upload" value="1" />\r\n',r+='<input type="hidden" name="currency_code" value="'+t.settings.currency+'" />\r\n',r+='<input type="hidden" name="business" value="'+t.settings.business+'" />\r\n',t.settings.virtual&&(r+='<input type="hidden" name="no_shipping" value="1">\r\n'),""!=t.settings.notifyURL&&(r+='<input type="hidden" name="notify_url" value="'+t.settings.notifyURL+'" />\r\n'),r+='<table class="PayPalCart">\r\n',r+='<tr><th align="left" colspan="2">Description</th><th>Qty</th><th class="text-right">Price</th></tr>\r\n',$(".price-option").each(function(){$(this).find(".product-cart-qtys").addClass("hidden"),$(this).children(".add-to-cart").removeClass("hidden"),$(this).find(".qty-in-cart").attr("value",0)});for(var o=0;o<t.settings.cartItems.length;o++)0==o&&$(".goto-basket").removeClass("hidden"),$ciCode=t.settings.cartItems[o].code,$ciQty=t.settings.cartItems[o].quantity,$(".price-option").each(function(){$ciCode==$(this).children(".add-to-cart").attr("data-product-code")&&($(this).find(".qty-in-cart").attr("value",parseInt($ciQty)),parseInt($ciQty)>0?($(this).children(".add-to-cart").addClass("hidden"),$(this).find(".product-cart-qtys").removeClass("hidden")):($(this).children(".add-to-cart").removeClass("hidden"),$(this).find(".product-cart-qtys").addClass("hidden")))}),e+=t.settings.cartItems[o].quantity*t.settings.cartItems[o].value,s+=t.settings.cartItems[o].quantity*t.settings.cartItems[o].tax,a=t.settings.cartItems[o].quantity*t.settings.cartItems[o].value+t.settings.cartItems[o].quantity*t.settings.cartItems[o].tax,i+=parseInt(t.settings.cartItems[o].quantity),r+='<tr class="cart-item">\r\n<td><a class="remove-item" href="javascript:void(0)" onclick="$(\'#'+t.id+"').PayPalCart('remove', '"+t.settings.cartItems[o].code+"');\">x</a>\r\n",r+='<input type="hidden" name="item_number_'+(o+1).toString()+'" value="'+t.settings.cartItems[o].code+'" />\r\n',r+='<input type="hidden" name="item_name_'+(o+1).toString()+'" value="'+t.settings.cartItems[o].description+'" />\r\n',r+='<input type="hidden" name="quantity_'+(o+1).toString()+'" value="'+t.settings.cartItems[o].quantity+'" />\r\n',r+='<input type="hidden" name="amount_'+(o+1).toString()+'" value="'+t.settings.cartItems[o].value+'" />\r\n',r+='<input type="hidden" name="tax_'+(o+1).toString()+'" value="'+t.settings.cartItems[o].tax+'" />\r\n',r+="</td>\r\n",r+='<td align="left">'+t.settings.cartItems[o].description+"</td>\r\n",r+=t.settings.quantityupdate?'<td><input type="text" size="2" name="'+t.settings.cartItems[o].code+'" value="'+t.settings.cartItems[o].quantity+'" onblur="$(\'#'+t.id+"').PayPalCart('update','"+t.settings.cartItems[o].code+"', $(this).val());\" /></td>\r\n":"<td>"+t.settings.cartItems[o].quantity+"</td>\r\n",r+='<td class="text-right">'+t.settings.currencysign+parseFloat(a).toFixed(2)+"</td></tr>\r\n";if(r+='<tr class="PayPalCartTotals"><td colspan="3" align="left">Total</td><td class="text-right">'+t.settings.currencysign+parseFloat(e+s).toFixed(2)+"</td></tr>\r\n",r+='<tr><td colspan="4" class="text-right"><input id="basket-submit-button" onclick="PayPalLoading()" type="submit" value="Buy Now"></td></tr>\r\n',r+='<tr><td colspan="4" class="text-right"><input id="basket-hide-button" onclick="HideCart()" type="button" value="Hide Basket"></td></tr>\r\n',r+="</table>\r\n",r+="</form>\r\n",$(t).html(r).ready(function(){$(this).find("input").keypress(function(e){if(13==e.which){var n=$(this).attr("name"),s=$(this).val();return $(t).PayPalCart("update",n,s),!1}})}),""!=t.settings.minicartid){var c="";c+=i.toString()+" items<br />"+t.settings.currencysign+parseFloat(e).toFixed(2),$("#"+t.settings.minicartid).html(c)}}function e(t){var e=s("cart"+t.id);if(null!=e&&""!=e){var n=0;for(i=1;i<=e;i++){var a=s("cart"+t.id+i);if(null!=a&&""!=a){var r=Array();for(ARRline=a.split("##"),j=0;j<ARRline.length;j++){var o=ARRline[j].substr(0,ARRline[j].indexOf("=")).replace(/^\s+|\s+$/g,""),c=ARRline[j].substr(ARRline[j].indexOf("=")+1);r[o]=c}t.settings.cartItems.push(r),n++}}}}function n(t){for(ARRcookies=document.cookie.split(";"),e=0;e<ARRcookies.length;e++)0==ARRcookies[e].substr(0,ARRcookies[e].indexOf("=")).indexOf("cart"+t.id)&&a(ARRcookies[e].substr(0,ARRcookies[e].indexOf("=")),"",0);if(t.settings.persistdays>=0){a("cart"+t.id,t.settings.cartItems.length,t.settings.persistdays);for(var e=0;e<t.settings.cartItems.length;e++){var n="";for(var s in t.settings.cartItems[e])""!=n&&(n+="##"),n+=s+"="+t.settings.cartItems[e][s];a("cart"+t.id+(e+1).toString(),n,t.settings.persistdays)}}}function s(t){var e,n,s,i=document.cookie.split(";");for(e=0;e<i.length;e++)if(n=i[e].substr(0,i[e].indexOf("=")),s=i[e].substr(i[e].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n==t)return unescape(s);return""}function a(t,e,n){if(n>0){var s=new Date;s.setDate(s.getDate()+n);var i=escape(e)+(null==n?"":"; expires="+s.toUTCString());document.cookie=t+"="+i+";path=/"}else document.cookie=t+"="+escape(e)+";path=/"}var r={init:function(n){return this.each(function(){var s={currency:"GBP",currencysign:"",business:"",virtual:!1,quantityupdate:!0,notifyurl:"",minicartid:"",persistdays:0};this.settings=$.extend(s,n,{cartItems:new Array}),this.settings.persistdays>=0&&e(this),t(this)})},add:function(e,n,s,i,a){return this.each(function(){for(var r=!1,o=this.settings.cartItems.length,c=0;o>c;c++)this.settings.cartItems[c].code==e&&(this.settings.cartItems[c].quantity=parseInt(this.settings.cartItems[c].quantity)+parseInt(s),r=!0);r||this.settings.cartItems.push({code:e,description:n,quantity:s,value:i,tax:a}),t(this)})},deductOne:function(e){return this.each(function(){for(var n=this.settings.cartItems.length,s=0;n>s;s++)if(this.settings.cartItems[s].code==e){var i=parseInt(this.settings.cartItems[s].quantity)-1;if(this.settings.cartItems[s].quantity=i,1>i){for(var n=this.settings.cartItems.length,a=new Array,s=0;n>s;s++)this.settings.cartItems[s].code!=e&&a.push(this.settings.cartItems[s]);this.settings.cartItems=a}t(this)}})},remove:function(e){return this.each(function(){for(var n=this.settings.cartItems.length,s=new Array,i=0;n>i;i++)this.settings.cartItems[i].code!=e&&s.push(this.settings.cartItems[i]);this.settings.cartItems=s,t(this)})},update:function(e,n){return this.each(function(){for(var s=this.settings.cartItems.length,i=0;s>i;i++)this.settings.cartItems[i].code==e&&(this.settings.cartItems[i].quantity=parseInt(n));t(this)})}};$.fn.PayPalCart=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void $.error("Method "+t+" does not exist on jQuery.tooltip"):r.init.apply(this,arguments)}}),$(document).ready(function(){function t(){$("#myCart").css("margin-top",$("body").scrollTop()+50),$("#myCart").parent().fadeIn("medium")}function e(){$("nav li.drop").mouseenter(function(){$(this).children(".drop-nav").length&&$(this).children(".drop-nav").stop().slideDown()}).mouseleave(function(){$(this).children(".drop-nav").stop().slideUp()})}function n(){$("nav li.drop a").click(function(){return $(this).siblings(".drop-nav").length&&!$(this).siblings(".drop-nav").hasClass("open-drop")?($(this).siblings(".drop-nav").slideDown().addClass("open-drop"),!1):void 0})}$("body").addClass("page-loaded"),$("#waitPayPal").hide(),$("#myCart").PayPalCart({business:"sandra@smjfalconry.co.uk",notifyURL:"http://smjfalconry.co.uk",virtual:!1,quantityupdate:!0,currency:"GBP",currencysign:"Â£",minicartid:"minicart",persitdays:2}),$(".add-to-cart").on("click",function(){var t=$(this).attr("data-product-code"),e=$(this).attr("data-description"),n=$(this).attr("data-quantity"),s=$(this).attr("data-value"),i=$(this).attr("data-vat");$("#myCart").PayPalCart("add",t,e,n,s,i)}),$(".deduct-from-cart").on("click",function(){var t=$(this).attr("data-product-code");$("#myCart").PayPalCart("deductOne",t)}),$(".basket-icon").on("click",function(){t()}),$(".goto-basket").on("click",function(){t()}),$(".modal-background").click(function(t){t.target==this&&$(this).fadeOut("medium")}),$("#nav-toggle").click(function(){return $(this).hasClass("active")||($(this).addClass("active"),$(".page-inner").addClass("nav-open")),!1}),$(window).resize(function(){$(window).innerWidth()>991&&$("#nav-toggle").hasClass("active")&&($("#nav-toggle").removeClass("active"),$(".page-inner").removeClass("nav-open"))}),$(document).mouseup(function(t){var e=$("nav");e.is(t.target)||0!==e.has(t.target).length||$("#nav-toggle").hasClass("active")&&setTimeout(function(){$("#nav-toggle").removeClass("active"),$(".page-inner").removeClass("nav-open")},50)}),$(".drop-nav").each(function(){$(this).closest("li").addClass("drop")}),$(window).innerWidth()>991?e():n(),$(window).resize(function(){$(window).innerWidth()>991&&$(".open-drop").removeAttr("style").removeClass("open-drop")}),$(".contact-form").submit(function(t){$(this).find(".contact-form-name").val()||($(this).find(".contact-form-name").addClass("error-input"),t.preventDefault(),$(".error").show()),$(this).find(".contact-form-email").val()||($(this).find(".contact-form-email").addClass("error-input"),t.preventDefault(),$(".error").show()),$(this).find(".contact-form-message").val()||($(this).find(".contact-form-message").addClass("error-input"),t.preventDefault(),$(".error").show())}),$("#topSlideDownMessage").on("click",function(){$("#topSlideDownMessage").slideUp("slow")}),$("#topSlideDownMessage p").text().length>0&&$("#topSlideDownMessage").slideDown("slow")});